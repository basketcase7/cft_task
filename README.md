# **Утилита для фильтрации и обработки данных из файлов**

## Описание
Утилита предназначена для фильтрации данных из нескольких входных файлов и записи их в разные выходные файлы в зависимости от типа данных. Поддерживаемые типы данных:
- Целые числа
- Вещественные числа
- Строки

По умолчанию результаты записываются в текущую папку в файлы:
- `integers.txt` для целых чисел
- `floats.txt` для вещественных чисел
- `strings.txt` для строк

Дополнительные настройки включают:
- Задание пути для выходных файлов через опцию `-o`. Например `-o C:\Users\Максим\Desktop`
- Задание префикса имен выходных файлов через опцию `-p`. Например `-p sample_`
- Режим добавления данных в существующие файлы с помощью опции `-a`
- Поддержка двух видов статистики: краткой (`-s`) и полной (`-f`)

Краткая статистика содержит:
- Количество элементов записанных в исходящие файлы

Полная статистика содержит:
- Для чисел: Количество элементов записанных в исходящие файлы, минимальное и максимальное значения, сумма и среднее.
- Для строк: Количество элементов записанных в исходящие файлы, размер самой короткой строки и самой длинной

---

## Особенности
- В консоль выводится информация о возникших ошибках
- Выбор дается либо краткая, либо полная статистика, однако по умолчанию всегда включено ведение и вывод краткой статистики
- Программа поддерживает кодировку только UTF-8
- Если префикс имени содержит недопустимые символы, то выходные файлы будут созданы с названием по умолчанию
- Если при указании пути для выходных файлов указан путь, который не существуют, то недостающие папки будут созданы
- Если путь к выходным файлам не может быть создан или найден, то выходные файлы будут сохранены в текущей папке
- Параметр `-a` не перезаписывает файлы, а добавляет к ранее созданным только в том случае, если ранее созданные файлы совпадают по названию и расположению с теми, которые указаны при запуске программы
- Файлы с результатами создаются по мере необходимости
- По умолчанию файлы перезаписываются, но не удаляются
- Если указанный для обработки файл не существует или не найден, то программа продолжит работать, как будто этого файла и не должно было быть
- Если строка в файле не может быть прочитана, то программа продолжит работать, как будто этой строки и не должно было быть
- Статистика учитывает только те данные, которые обрабатываются при текущем запуске программы. Т.е. при активной опции `a` данные, которые уже находятся в выходных файлах - не учитываются
- В качестве разделителя данных в файлах используется перевод строки

---

## Требования
- **Java:** 21
- **Система сборки:** Maven 3.9.9

### Используемые библиотеки:
1. [Lombok](https://projectlombok.org/) (версия 1.18.34)
```xml
<dependency>
   <groupId>org.projectlombok</groupId>
   <artifactId>lombok</artifactId>
   <version>1.18.34</version>
   <scope>provided</scope>
</dependency>
```
2. [JCommander](http://jcommander.org/) (версия 1.81)
```xml

<dependency>
   <groupId>com.beust</groupId>
   <artifactId>jcommander</artifactId>
   <version>1.81</version>
</dependency>
```
---

## Инструкция по запуску

### Сборка проекта
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/basketcase7/cft_task
   ```
2. Перейдите в корневую директорию проекта:
   ```bash
   cd cft-text-manager
   ```
3. Соберите проект с помощью Maven:
   ```bash
   mvn clean package
   ```
   или (для Windows):
   ```bash
   mvnw.cmd clean package
   ```

### Запуск утилиты
После успешной сборки, выполните команду:
```bash
java -jar target\cft-1.0-jar-with-dependencies.jar [опции] <список_входных_файлов>
```

 ---

### Пример использования

```bash
java -jar target\cft-1.0-jar-with-dependencies.jar -f -a -p sample- in1.txt in2.txt
```

#### Пример входного файла in1.txt
```text
Lorem ipsum dolor sit amet
45
Пример
3.1415
consectetur adipiscing
-0.001
тестовое задание
100500
```

#### Пример входного файла in2.txt
```text
Нормальная форма числа с плавающей запятой
1.528535047E-25
Long
1234567890123456789
```

### Результат работы программы

#### Пример выходного файла sample-floats.txt
```text
3.1415
-0.001
1.528535047E-25
```

#### Пример выходного файла sample-integers.txt
```text
45
100500
1234567890123456789
```

#### Пример выходного файла sample-strings.txt
```text
Lorem ipsum dolor sit amet
Пример
consectetur adipiscing
тестовое задание
Нормальная форма числа с плавающей запятой
Long
```

#### Собранная статистика
```text
Полная статистика:

    Статистика для целых чисел:
        Количество: 3
        Минимум: 45
        Максимум: 1234567890123456789
        Сумма: 1234567890123557334
        Среднее значение: 411522630041185778

    Статистика для вещественных чисел:
        Количество: 3
        Минимум: -0.001
        Максимум: 3.1415
        Сумма: 3.1405000000000000000000001528535047
        Среднее значение: 1.0468333333333333333333333842845016

    Статистика для строк:
        Количество: 6
        Длина наименьшей строки: 4
        Длина наибольшей строки: 42
```